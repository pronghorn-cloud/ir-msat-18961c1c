import{_ as w,a as m,c as p,b as e,t as h,g as S,w as E,p as _,d as n,q as k,u as x}from"./index-DxPLqLYP.js";const C={class:"login-page"},P={class:"login-container"},q={class:"login-card"},B={key:0,class:"error-banner"},I={type:"emergency",heading:"Sign in failed"},L=["error"],M=["value"],N=["error"],T=["value"],V={class:"login-actions"},A=["disabled"],D={class:"sso-section"},O={__name:"Login",setup(R){const l=x(),t=n(""),i=n(""),r=n(""),d=n(""),u=n(""),c=n(!1),f=s=>{t.value=s.detail.value,d.value=""},b=s=>{i.value=s.detail.value,u.value=""},v=async()=>{var s,a;if(r.value="",d.value="",u.value="",!t.value){d.value="Email is required";return}if(!i.value){u.value="Password is required";return}c.value=!0;try{const g=await k(t.value,i.value);if(g.success){const o=g.user.role;l.push("/dashboard")}}catch(g){const o=((a=(s=g.response)==null?void 0:s.data)==null?void 0:a.message)||"Sign in failed. Please try again.";r.value=o}finally{c.value=!1}},y=()=>{};return(s,a)=>(m(),p("div",C,[e("div",P,[a[3]||(a[3]=e("div",{class:"login-header"},[e("h1",null,"Metis Settlements Appeal Tribunal"),e("p",null,"Sign in to access the case management system")],-1)),e("div",q,[a[0]||(a[0]=e("h2",null,"Sign In",-1)),r.value?(m(),p("div",B,[e("goa-callout",I,h(r.value),1)])):S("",!0),e("form",{onSubmit:E(v,["prevent"])},[e("goa-form-item",{label:"Email",error:d.value},[e("goa-input",{name:"email",type:"email",value:t.value,placeholder:"Enter your email",on_change:f,width:"100%"},null,40,M)],8,L),e("goa-form-item",{label:"Password",error:u.value},[e("goa-input",{name:"password",type:"password",value:i.value,placeholder:"Enter your password",on_change:b,width:"100%"},null,40,T)],8,N),e("div",V,[e("goa-button",{type:"primary",on_click:v,disabled:c.value,width:"100%"},h(c.value?"Signing in...":"Sign In"),41,A)])],32),a[1]||(a[1]=e("div",{class:"login-divider"},[e("span",null,"or")],-1)),e("div",D,[e("goa-button",{type:"secondary",width:"100%",on_click:y,disabled:!0}," Sign in with Microsoft (Coming Soon) ",32)]),a[2]||(a[2]=e("div",{class:"login-help"},[e("p",null,"Test credentials:"),e("ul",null,[e("li",null,[e("strong",null,"Admin:"),_(" admin@msat.gov.ab.ca / admin123")]),e("li",null,[e("strong",null,"Staff:"),_(" staff@msat.gov.ab.ca / staff123")])])],-1))])])]))}},z=w(O,[["__scopeId","data-v-eef064be"]]);export{z as default};
//# sourceMappingURL=Login-lwwfQ9eq.js.map
