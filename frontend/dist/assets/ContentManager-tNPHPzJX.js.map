{"version":3,"file":"ContentManager-tNPHPzJX.js","sources":["../../src/views/ContentManager.vue"],"sourcesContent":["<template>\n  <div class=\"content-manager\">\n    <div class=\"page-header\">\n      <h1>Content Management</h1>\n      <p>Manage website pages and content blocks</p>\n    </div>\n\n    <goa-callout v-if=\"successMsg\" type=\"success\" heading=\"Success\">\n      {{ successMsg }}\n    </goa-callout>\n\n    <goa-callout v-if=\"errorMsg\" type=\"emergency\" heading=\"Error\">\n      {{ errorMsg }}\n    </goa-callout>\n\n    <!-- Actions bar -->\n    <div class=\"actions-bar\">\n      <goa-button type=\"primary\" @_click=\"openCreateForm\">\n        Add Content Block\n      </goa-button>\n      <div class=\"filter-group\">\n        <label>Filter by page:</label>\n        <select v-model=\"filterPage\" class=\"page-filter\">\n          <option value=\"\">All Pages</option>\n          <option v-for=\"p in uniquePages\" :key=\"p\" :value=\"p\">{{ p }}</option>\n        </select>\n      </div>\n    </div>\n\n    <!-- Content table -->\n    <div class=\"table-container\">\n      <table class=\"content-table\">\n        <thead>\n          <tr>\n            <th>Page</th>\n            <th>Section Key</th>\n            <th>Title</th>\n            <th>Status</th>\n            <th>Order</th>\n            <th>Updated</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-if=\"loading\">\n            <td colspan=\"7\" class=\"center-text\">Loading content...</td>\n          </tr>\n          <tr v-else-if=\"filteredContent.length === 0\">\n            <td colspan=\"7\" class=\"center-text\">No content blocks found</td>\n          </tr>\n          <tr v-for=\"item in filteredContent\" :key=\"item.id\" :class=\"{ 'draft-row': !item.is_published }\">\n            <td>\n              <span class=\"page-badge\">{{ item.page_slug }}</span>\n            </td>\n            <td>{{ item.section_key }}</td>\n            <td>{{ item.title || '—' }}</td>\n            <td>\n              <span class=\"status-badge\" :class=\"item.is_published ? 'status-published' : 'status-draft'\">\n                {{ item.is_published ? 'Published' : 'Draft' }}\n              </span>\n            </td>\n            <td>{{ item.sort_order }}</td>\n            <td>{{ formatDate(item.updated_at) }}</td>\n            <td class=\"actions-cell\">\n              <goa-button type=\"tertiary\" size=\"compact\" @_click=\"openEditForm(item)\">\n                Edit\n              </goa-button>\n              <goa-button type=\"tertiary\" size=\"compact\" @_click=\"togglePublish(item)\">\n                {{ item.is_published ? 'Unpublish' : 'Publish' }}\n              </goa-button>\n              <goa-button type=\"tertiary\" size=\"compact\" @_click=\"confirmDelete(item)\">\n                Delete\n              </goa-button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Create/Edit Modal -->\n    <div v-if=\"showForm\" class=\"modal-overlay\" @click.self=\"closeForm\">\n      <div class=\"modal-content\">\n        <h2>{{ editingItem ? 'Edit Content Block' : 'New Content Block' }}</h2>\n\n        <goa-callout v-if=\"formError\" type=\"emergency\" heading=\"Error\">\n          {{ formError }}\n        </goa-callout>\n\n        <goa-form-item label=\"Page Slug\" :error=\"formErrors.page_slug\">\n          <goa-input\n            name=\"page_slug\"\n            :value=\"formData.page_slug\"\n            @_change=\"(e) => formData.page_slug = e.detail.value\"\n            width=\"100%\"\n            placeholder=\"e.g. home, about, contact\"\n            :disabled=\"!!editingItem\"\n          />\n        </goa-form-item>\n\n        <goa-form-item label=\"Section Key\" :error=\"formErrors.section_key\">\n          <goa-input\n            name=\"section_key\"\n            :value=\"formData.section_key\"\n            @_change=\"(e) => formData.section_key = e.detail.value\"\n            width=\"100%\"\n            placeholder=\"e.g. hero, mandate, info\"\n            :disabled=\"!!editingItem\"\n          />\n        </goa-form-item>\n\n        <goa-form-item label=\"Title\">\n          <goa-input\n            name=\"title\"\n            :value=\"formData.title\"\n            @_change=\"(e) => formData.title = e.detail.value\"\n            width=\"100%\"\n            placeholder=\"Section heading (optional)\"\n          />\n        </goa-form-item>\n\n        <goa-form-item label=\"Body\">\n          <textarea\n            class=\"body-editor\"\n            v-model=\"formData.body\"\n            rows=\"10\"\n            placeholder=\"Content body (supports plain text or HTML)\"\n          ></textarea>\n        </goa-form-item>\n\n        <div class=\"form-row\">\n          <goa-form-item label=\"Sort Order\">\n            <goa-input\n              type=\"number\"\n              name=\"sort_order\"\n              :value=\"String(formData.sort_order)\"\n              @_change=\"(e) => formData.sort_order = Number(e.detail.value)\"\n              width=\"100px\"\n            />\n          </goa-form-item>\n\n          <goa-form-item label=\"Published\">\n            <goa-checkbox\n              name=\"is_published\"\n              :checked=\"formData.is_published\"\n              @_change=\"(e) => formData.is_published = e.detail.checked\"\n            />\n          </goa-form-item>\n        </div>\n\n        <div class=\"form-actions\">\n          <goa-button type=\"primary\" @_click=\"handleSubmit\" :disabled=\"saving\">\n            {{ saving ? 'Saving...' : (editingItem ? 'Save Changes' : 'Create') }}\n          </goa-button>\n          <goa-button type=\"tertiary\" @_click=\"closeForm\">\n            Cancel\n          </goa-button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Delete Confirmation Modal -->\n    <div v-if=\"showDeleteConfirm\" class=\"modal-overlay\" @click.self=\"cancelDelete\">\n      <div class=\"modal-content modal-small\">\n        <h2>Delete Content Block</h2>\n        <p>Are you sure you want to delete the content block <strong>\"{{ deletingItem?.section_key }}\"</strong> from page <strong>\"{{ deletingItem?.page_slug }}\"</strong>?</p>\n        <p class=\"warning-text\">This action cannot be undone.</p>\n        <div class=\"form-actions\">\n          <goa-button type=\"primary\" @_click=\"handleDelete\">\n            Delete\n          </goa-button>\n          <goa-button type=\"tertiary\" @_click=\"cancelDelete\">\n            Cancel\n          </goa-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, onMounted } from 'vue';\nimport api from '@/services/api.js';\n\nconst contentItems = ref([]);\nconst loading = ref(true);\nconst successMsg = ref('');\nconst errorMsg = ref('');\nconst filterPage = ref('');\n\n// Form state\nconst showForm = ref(false);\nconst editingItem = ref(null);\nconst saving = ref(false);\nconst formError = ref('');\n\n// Delete state\nconst showDeleteConfirm = ref(false);\nconst deletingItem = ref(null);\n\nconst formData = reactive({\n  page_slug: '',\n  section_key: '',\n  title: '',\n  body: '',\n  is_published: true,\n  sort_order: 0\n});\n\nconst formErrors = reactive({\n  page_slug: '',\n  section_key: ''\n});\n\nconst uniquePages = computed(() => {\n  const pages = [...new Set(contentItems.value.map(c => c.page_slug))];\n  return pages.sort();\n});\n\nconst filteredContent = computed(() => {\n  if (!filterPage.value) return contentItems.value;\n  return contentItems.value.filter(c => c.page_slug === filterPage.value);\n});\n\nfunction formatDate(d) {\n  if (!d) return '—';\n  return new Date(d).toLocaleDateString('en-CA', { year: 'numeric', month: 'short', day: 'numeric' });\n}\n\nasync function loadContent() {\n  loading.value = true;\n  try {\n    const response = await api.get('/content');\n    if (response.success) {\n      contentItems.value = response.data;\n    }\n  } catch (err) {\n    errorMsg.value = err.response?.data?.message || 'Failed to load content';\n  } finally {\n    loading.value = false;\n  }\n}\n\nfunction clearFormErrors() {\n  formErrors.page_slug = '';\n  formErrors.section_key = '';\n  formError.value = '';\n}\n\nfunction openCreateForm() {\n  editingItem.value = null;\n  formData.page_slug = '';\n  formData.section_key = '';\n  formData.title = '';\n  formData.body = '';\n  formData.is_published = true;\n  formData.sort_order = 0;\n  clearFormErrors();\n  successMsg.value = '';\n  errorMsg.value = '';\n  showForm.value = true;\n}\n\nasync function openEditForm(item) {\n  editingItem.value = item;\n  clearFormErrors();\n  successMsg.value = '';\n  errorMsg.value = '';\n\n  // Fetch full body from detail endpoint\n  try {\n    const response = await api.get(`/content/${item.id}`);\n    if (response.success) {\n      const full = response.data;\n      formData.page_slug = full.page_slug;\n      formData.section_key = full.section_key;\n      formData.title = full.title || '';\n      formData.body = full.body || '';\n      formData.is_published = full.is_published;\n      formData.sort_order = full.sort_order;\n    }\n  } catch (err) {\n    formData.page_slug = item.page_slug;\n    formData.section_key = item.section_key;\n    formData.title = item.title || '';\n    formData.body = '';\n    formData.is_published = item.is_published;\n    formData.sort_order = item.sort_order;\n  }\n\n  showForm.value = true;\n}\n\nfunction closeForm() {\n  showForm.value = false;\n  editingItem.value = null;\n}\n\nfunction validateForm() {\n  clearFormErrors();\n  let valid = true;\n\n  if (!editingItem.value && !formData.page_slug.trim()) {\n    formErrors.page_slug = 'Page slug is required';\n    valid = false;\n  }\n  if (!editingItem.value && !formData.section_key.trim()) {\n    formErrors.section_key = 'Section key is required';\n    valid = false;\n  }\n\n  return valid;\n}\n\nasync function handleSubmit() {\n  if (!validateForm()) return;\n\n  saving.value = true;\n  formError.value = '';\n\n  try {\n    if (editingItem.value) {\n      const response = await api.put(`/content/${editingItem.value.id}`, {\n        title: formData.title,\n        body: formData.body,\n        is_published: formData.is_published,\n        sort_order: formData.sort_order\n      });\n      if (response.success) {\n        successMsg.value = 'Content block updated';\n        closeForm();\n        await loadContent();\n      }\n    } else {\n      const response = await api.post('/content', {\n        page_slug: formData.page_slug.trim(),\n        section_key: formData.section_key.trim(),\n        title: formData.title,\n        body: formData.body,\n        is_published: formData.is_published,\n        sort_order: formData.sort_order\n      });\n      if (response.success) {\n        successMsg.value = 'Content block created';\n        closeForm();\n        await loadContent();\n      }\n    }\n  } catch (err) {\n    formError.value = err.response?.data?.message || 'Operation failed';\n  } finally {\n    saving.value = false;\n  }\n}\n\nasync function togglePublish(item) {\n  successMsg.value = '';\n  errorMsg.value = '';\n  try {\n    const response = await api.put(`/content/${item.id}`, {\n      is_published: !item.is_published\n    });\n    if (response.success) {\n      successMsg.value = item.is_published ? 'Content unpublished' : 'Content published';\n      await loadContent();\n    }\n  } catch (err) {\n    errorMsg.value = err.response?.data?.message || 'Failed to update status';\n  }\n}\n\nfunction confirmDelete(item) {\n  deletingItem.value = item;\n  showDeleteConfirm.value = true;\n}\n\nfunction cancelDelete() {\n  deletingItem.value = null;\n  showDeleteConfirm.value = false;\n}\n\nasync function handleDelete() {\n  if (!deletingItem.value) return;\n  successMsg.value = '';\n  errorMsg.value = '';\n  try {\n    const response = await api.delete(`/content/${deletingItem.value.id}`);\n    if (response.success) {\n      successMsg.value = 'Content block deleted';\n      await loadContent();\n    }\n  } catch (err) {\n    errorMsg.value = err.response?.data?.message || 'Failed to delete content';\n  } finally {\n    cancelDelete();\n  }\n}\n\nonMounted(loadContent);\n</script>\n\n<style scoped>\n.content-manager {\n  padding: var(--goa-space-m) 0;\n}\n\n.page-header {\n  margin-bottom: var(--goa-space-xl);\n}\n\n.page-header h1 {\n  font-size: var(--goa-font-size-8, 1.75rem);\n  margin-bottom: var(--goa-space-xs);\n}\n\n.page-header p {\n  color: var(--goa-color-text-secondary, #666);\n}\n\n.actions-bar {\n  margin-bottom: var(--goa-space-m);\n  display: flex;\n  align-items: center;\n  gap: var(--goa-space-l);\n  flex-wrap: wrap;\n}\n\n.filter-group {\n  display: flex;\n  align-items: center;\n  gap: var(--goa-space-s);\n}\n\n.filter-group label {\n  font-size: var(--goa-font-size-4, 0.875rem);\n  color: var(--goa-color-text-secondary, #666);\n}\n\n.page-filter {\n  padding: 6px 12px;\n  border: 1px solid var(--goa-color-greyscale-200, #dcdcdc);\n  border-radius: var(--goa-border-radius-m, 4px);\n  font-size: var(--goa-font-size-4, 0.875rem);\n}\n\n.table-container {\n  background: white;\n  border: 1px solid var(--goa-color-greyscale-200, #dcdcdc);\n  border-radius: var(--goa-border-radius-m, 4px);\n  overflow-x: auto;\n}\n\n.content-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.content-table th,\n.content-table td {\n  padding: var(--goa-space-s) var(--goa-space-m);\n  text-align: left;\n  border-bottom: 1px solid var(--goa-color-greyscale-200, #dcdcdc);\n}\n\n.content-table th {\n  background: var(--goa-color-greyscale-100, #f1f1f1);\n  font-weight: var(--goa-font-weight-bold, 700);\n  font-size: var(--goa-font-size-4, 0.875rem);\n  color: var(--goa-color-text-secondary, #333);\n}\n\n.content-table tbody tr:hover {\n  background: var(--goa-color-greyscale-100, #f9f9f9);\n}\n\n.draft-row {\n  opacity: 0.7;\n}\n\n.center-text {\n  text-align: center;\n  padding: var(--goa-space-xl) !important;\n  color: var(--goa-color-text-secondary, #666);\n}\n\n.page-badge {\n  display: inline-block;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: var(--goa-font-size-3, 0.8rem);\n  font-weight: var(--goa-font-weight-bold, 700);\n  background: #dbeafe;\n  color: #1d4ed8;\n}\n\n.status-badge {\n  display: inline-block;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-size: var(--goa-font-size-3, 0.8rem);\n  font-weight: var(--goa-font-weight-bold, 700);\n}\n\n.status-published { background: #d1fae5; color: #065f46; }\n.status-draft { background: #fef3c7; color: #b45309; }\n\n.actions-cell {\n  display: flex;\n  gap: var(--goa-space-xs);\n  flex-wrap: wrap;\n}\n\n/* Modal */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background: white;\n  border-radius: var(--goa-border-radius-m, 4px);\n  padding: var(--goa-space-xl);\n  width: 100%;\n  max-width: 640px;\n  max-height: 90vh;\n  overflow-y: auto;\n}\n\n.modal-small {\n  max-width: 440px;\n}\n\n.modal-content h2 {\n  font-size: var(--goa-font-size-6, 1.25rem);\n  margin-bottom: var(--goa-space-m);\n  padding-bottom: var(--goa-space-s);\n  border-bottom: 1px solid var(--goa-color-greyscale-200, #dcdcdc);\n}\n\n.body-editor {\n  width: 100%;\n  font-family: monospace;\n  font-size: var(--goa-font-size-4, 0.875rem);\n  padding: var(--goa-space-s);\n  border: 1px solid var(--goa-color-greyscale-200, #dcdcdc);\n  border-radius: var(--goa-border-radius-m, 4px);\n  resize: vertical;\n}\n\n.form-row {\n  display: flex;\n  gap: var(--goa-space-l);\n  align-items: flex-end;\n}\n\n.form-actions {\n  margin-top: var(--goa-space-m);\n  display: flex;\n  gap: var(--goa-space-s);\n}\n\n.warning-text {\n  color: #991b1b;\n  font-weight: var(--goa-font-weight-bold, 700);\n  margin-top: var(--goa-space-s);\n}\n</style>\n"],"names":["contentItems","ref","loading","successMsg","errorMsg","filterPage","showForm","editingItem","saving","formError","showDeleteConfirm","deletingItem","formData","reactive","formErrors","uniquePages","computed","c","filteredContent","formatDate","d","loadContent","response","api","err","_b","_a","clearFormErrors","openCreateForm","openEditForm","item","full","closeForm","validateForm","valid","handleSubmit","togglePublish","confirmDelete","cancelDelete","handleDelete","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","_hoisted_3","_hoisted_4","_hoisted_5","_cache","$event","_Fragment","_renderList","p","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_normalizeClass","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","e","_hoisted_22","_hoisted_24","_vModelText","_hoisted_25","_hoisted_26","_hoisted_28","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33"],"mappings":"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"}