import{_ as J,o as Y,a as n,c as o,b as s,f as C,k as w,F as M,r as A,m as j,p as I,g as r,t as l,e as U,d as u,l as z,n as F}from"./index-DxPLqLYP.js";const G={class:"hearings-page"},q={class:"filter-panel"},K={class:"filter-row"},Q={class:"filter-group"},W=["value"],X={class:"filter-group"},Z=["value"],ee={class:"filter-group"},te={class:"filter-group"},se={class:"checkbox-label"},ae={key:0,class:"filter-actions"},ne={key:0,class:"results-bar"},oe={class:"results-count"},le={key:1,class:"loading-msg"},ie={key:2,class:"empty-msg"},ue={key:3,class:"hearings-list"},re={class:"card-date-col"},de={class:"date-day"},ce={class:"date-month"},ve={class:"date-year"},pe={class:"card-details"},fe={class:"card-top-row"},ge={key:1,class:"status-upcoming"},me={class:"card-info"},_e={key:0,class:"info-row"},he={key:1,class:"info-row"},ye={key:2,class:"info-row"},be={key:0,class:"settlement-tag"},ke={key:3,class:"info-row notes"},Ce={key:4,class:"pagination"},we=["disabled"],Me={class:"page-info"},Ae=["disabled"],Ue={__name:"HearingSchedule",setup(Fe){const h=u([]),y=u(!0),d=u(0),c=u(20),i=u(0),v=u(""),p=u(""),f=u(""),m=u(!1),N=u([]),S=u([]),P=z(()=>v.value||p.value||f.value||m.value);async function T(){try{const[a,e]=await Promise.all([U.get("/public/hearings/months"),U.get("/public/hearings/locations")]);a.success&&(N.value=a.data),e.success&&(S.value=e.data)}catch{}}async function _(){y.value=!0;try{const a=new URLSearchParams;a.set("limit",c.value),a.set("offset",i.value),v.value&&a.set("month",v.value),p.value&&a.set("location",p.value),f.value&&a.set("type",f.value),m.value&&a.set("show_past","true");const e=await U.get(`/public/hearings?${a.toString()}`);e.success&&(h.value=e.data,d.value=e.total)}catch{h.value=[]}finally{y.value=!1}}function b(){i.value=0,_()}function V(){v.value="",p.value="",f.value="",m.value=!1,i.value=0,_()}function D(){i.value=Math.max(0,i.value-c.value),_()}function H(){i.value=i.value+c.value,_()}function k(a){if(!a)return null;const e=new Date(a);return isNaN(e.getTime())?null:e}function x(a){const e=k(a);if(!e)return!1;const t=new Date;return t.setHours(0,0,0,0),e<t}function L(a){const e=k(a);return e?e.getUTCDate():""}function R(a){const e=k(a);return e?["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][e.getUTCMonth()]:""}function O(a){const e=k(a);return e?e.getUTCFullYear():""}function B(a){if(!a)return"";const[e,t]=a.split(":"),g=parseInt(e,10);if(isNaN(g))return"";const $=g>=12?"PM":"AM";return`${g===0?12:g>12?g-12:g}:${t} ${$}`}function E(a){switch(a){case"Completed":return"outcome-completed";case"Resolved":return"outcome-resolved";case"Adjourned":return"outcome-adjourned";case"Cancelled":return"outcome-cancelled";case"Unresolved":return"outcome-unresolved";default:return""}}return Y(()=>{T(),_()}),(a,e)=>(n(),o("div",G,[e[15]||(e[15]=s("header",{class:"page-header"},[s("h1",null,"Hearing Schedule"),s("p",null,"View upcoming MSAT tribunal hearings and mediations")],-1)),s("div",q,[s("div",K,[s("div",Q,[e[5]||(e[5]=s("label",null,"Month",-1)),C(s("select",{class:"filter-input","onUpdate:modelValue":e[0]||(e[0]=t=>v.value=t),onChange:b},[e[4]||(e[4]=s("option",{value:""},"All Months",-1)),(n(!0),o(M,null,A(N.value,t=>(n(),o("option",{key:t.value,value:t.value},l(t.label),9,W))),128))],544),[[w,v.value]])]),s("div",X,[e[7]||(e[7]=s("label",null,"Location",-1)),C(s("select",{class:"filter-input","onUpdate:modelValue":e[1]||(e[1]=t=>p.value=t),onChange:b},[e[6]||(e[6]=s("option",{value:""},"All Locations",-1)),(n(!0),o(M,null,A(S.value,t=>(n(),o("option",{key:t,value:t},l(t),9,Z))),128))],544),[[w,p.value]])]),s("div",ee,[e[9]||(e[9]=s("label",null,"Type",-1)),C(s("select",{class:"filter-input","onUpdate:modelValue":e[2]||(e[2]=t=>f.value=t),onChange:b},[...e[8]||(e[8]=[s("option",{value:""},"All Types",-1),s("option",{value:"Oral"},"Oral Hearing",-1),s("option",{value:"Mediation"},"Mediation",-1)])],544),[[w,f.value]])]),s("div",te,[s("label",se,[C(s("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=t=>m.value=t),onChange:b},null,544),[[j,m.value]]),e[10]||(e[10]=I(" Show past hearings ",-1))])]),P.value?(n(),o("div",ae,[s("button",{class:"clear-btn",onClick:V},"Clear Filters")])):r("",!0)])]),y.value?r("",!0):(n(),o("div",ne,[s("span",oe,l(d.value)+" hearing"+l(d.value!==1?"s":"")+" found",1)])),y.value?(n(),o("div",le,"Loading hearings...")):h.value.length===0?(n(),o("div",ie,"No hearings found")):(n(),o("div",ue,[(n(!0),o(M,null,A(h.value,t=>(n(),o("div",{key:t.id,class:F(["hearing-card",{"past-hearing":x(t.hearing_date)}])},[s("div",re,[s("div",de,l(L(t.hearing_date)),1),s("div",ce,l(R(t.hearing_date)),1),s("div",ve,l(O(t.hearing_date)),1)]),s("div",pe,[s("div",fe,[s("span",{class:F(["type-badge",t.hearing_type==="Oral"?"badge-oral":"badge-mediation"])},l(t.hearing_type),3),t.outcome?(n(),o("span",{key:0,class:F(["outcome-badge",E(t.outcome)])},l(t.outcome),3)):x(t.hearing_date)?r("",!0):(n(),o("span",ge,"Upcoming"))]),s("div",me,[t.hearing_time?(n(),o("div",_e,[e[11]||(e[11]=s("span",{class:"info-icon"},"ðŸ•‘",-1)),s("span",null,l(B(t.hearing_time)),1)])):r("",!0),t.location?(n(),o("div",he,[e[12]||(e[12]=s("span",{class:"info-icon"},"ðŸ“",-1)),s("span",null,l(t.location),1)])):r("",!0),t.file_number?(n(),o("div",ye,[e[13]||(e[13]=s("span",{class:"info-icon"},"ðŸ“„",-1)),s("span",null,"Appeal "+l(t.file_number),1),t.settlement_name?(n(),o("span",be,l(t.settlement_name),1)):r("",!0)])):r("",!0),t.notes?(n(),o("div",ke,[e[14]||(e[14]=s("span",{class:"info-icon"},"ðŸ“",-1)),s("span",null,l(t.notes),1)])):r("",!0)])])],2))),128))])),d.value>c.value?(n(),o("div",Ce,[s("button",{class:"page-btn",disabled:i.value===0,onClick:D},"Previous",8,we),s("span",Me," Showing "+l(i.value+1)+"â€“"+l(Math.min(i.value+c.value,d.value))+" of "+l(d.value),1),s("button",{class:"page-btn",disabled:i.value+c.value>=d.value,onClick:H},"Next",8,Ae)])):r("",!0)]))}},xe=J(Ue,[["__scopeId","data-v-6b2c8dc0"]]);export{xe as default};
//# sourceMappingURL=HearingSchedule-4gNpcatj.js.map
