import{_ as T,o as F,a as s,c as a,b as t,f as H,k as P,F as _,r as v,g as u,w as S,t as o,e as w,d as c,n as D,p as h}from"./index-DxPLqLYP.js";const V={class:"my-cases-page"},B={key:0,class:"filter-bar"},I={class:"filter-group"},O=["value"],U={key:1,class:"loading-msg"},Y={key:2,class:"empty-msg"},j={key:3,class:"empty-state"},z={class:"results-bar"},E={class:"results-count"},J={class:"cases-list"},R=["onClick"],W={class:"card-header"},q={class:"card-file-number"},G={class:"card-body"},K={class:"card-meta"},Q={key:0,class:"meta-item"},X={key:1,class:"meta-item"},Z={key:2,class:"meta-item"},ee={class:"card-dates"},te={key:0,class:"date-item"},se={key:1,class:"date-item"},ae={class:"card-extras"},ne={key:0,class:"next-hearing"},le={key:0},oe={key:1},ie={key:1,class:"no-hearing"},ue={key:2,class:"doc-count"},re={key:0,class:"detail-section"},de={key:1,class:"detail-section"},ce={class:"detail-section"},_e={class:"timeline"},ve={key:0,class:"timeline-item"},pe={class:"tl-date"},me={key:1,class:"timeline-item"},ye={class:"tl-date"},ge={key:2,class:"timeline-item"},he={class:"tl-date"},ke={key:3,class:"timeline-item"},fe={class:"tl-date"},be={key:2,class:"detail-section"},Ce={class:"parties-list"},we={class:"party-name"},Me={class:"party-role"},Ne={key:3,class:"detail-section"},xe={class:"sub-table"},Se={key:0},De={key:1},$e={key:4,class:"detail-section empty-detail"},Ae={key:5,class:"detail-section"},Le={class:"sub-table"},Te={key:0},Fe={key:1},He={key:6,class:"detail-section empty-detail"},Pe={key:7,class:"detail-section"},Ve={class:"sub-table"},Be={class:"order-num"},Ie={key:0},Oe=["href"],Ue={__name:"MyCases",setup(Ye){const p=c([]),k=c(!0),f=c(0),m=c(!1),y=c(""),b=c([]),g=c(null),i=c(null),M=c(!1);async function $(){try{const r=await w.get("/my-cases/statuses");r.success&&(b.value=r.data)}catch{}}async function N(){k.value=!0,m.value=!1;try{const r=new URLSearchParams;y.value&&r.set("status",y.value);const e=await w.get(`/my-cases?${r.toString()}`);e.success&&(p.value=e.data,f.value=e.total,e.message&&e.total===0&&(m.value=!0))}catch{p.value=[]}finally{k.value=!1}}async function A(r){g.value=r,i.value=null,M.value=!0;try{const e=await w.get(`/my-cases/${r}`);e.success&&(i.value=e.data)}catch{i.value=null}finally{M.value=!1}}function d(r){if(!r)return"";const e=new Date(r);return isNaN(e.getTime())?"":e.toLocaleDateString("en-CA")}function x(r){if(!r)return"";const[e,l]=r.split(":"),n=parseInt(e,10);if(isNaN(n))return"";const C=n>=12?"PM":"AM";return`${n===0?12:n>12?n-12:n}:${l} ${C}`}function L(r){switch(r){case"Active":return"status-active";case"Closed":return"status-closed";case"Withdrawn":return"status-withdrawn";case"Order Issued":return"status-order";case"Conciliation":return"status-conciliation";case"Conciliated":return"status-conciliated";case"Mediation":return"status-mediation";case"Mediated":return"status-mediated";case"No Jurisdiction":return"status-nojurisdiction";case"No Merit":return"status-nomerit";default:return""}}return F(()=>{$(),N()}),(r,e)=>(s(),a("div",V,[e[24]||(e[24]=t("header",{class:"page-header"},[t("h1",null,"My Cases"),t("p",null,"View the status of your appeals with MSAT")],-1)),b.value.length>0?(s(),a("div",B,[t("div",I,[e[4]||(e[4]=t("label",null,"Status",-1)),H(t("select",{class:"filter-input","onUpdate:modelValue":e[0]||(e[0]=l=>y.value=l),onChange:N},[e[3]||(e[3]=t("option",{value:""},"All Statuses",-1)),(s(!0),a(_,null,v(b.value,l=>(s(),a("option",{key:l,value:l},o(l),9,O))),128))],544),[[P,y.value]])])])):u("",!0),k.value?(s(),a("div",U,"Loading your cases...")):p.value.length===0&&!m.value?(s(),a("div",Y," No cases found matching your filters. ")):m.value?(s(),a("div",j,[e[5]||(e[5]=t("div",{class:"empty-icon"},"ðŸ“„",-1)),e[6]||(e[6]=t("h2",null,"No Cases Found",-1)),e[7]||(e[7]=t("p",null,"Your account is not currently linked to any appeal cases. If you believe this is an error, please contact the MSAT office.",-1)),t("a",{href:"/contact",onClick:e[1]||(e[1]=S(l=>r.$router.push("/contact"),["prevent"])),class:"contact-link"},"Contact MSAT")])):(s(),a(_,{key:4},[t("div",z,[t("span",E,o(f.value)+" case"+o(f.value!==1?"s":""),1)]),t("div",J,[(s(!0),a(_,null,v(p.value,l=>(s(),a("div",{key:l.id,class:"case-card",onClick:n=>g.value===l.id?g.value=null:A(l.id)},[t("div",W,[t("div",q,o(l.file_number),1),t("span",{class:D(["status-badge",L(l.status)])},o(l.status),3)]),t("div",G,[t("div",K,[l.party_type?(s(),a("span",Q,[e[8]||(e[8]=t("strong",null,"Your role:",-1)),h(" "+o(l.party_type),1)])):u("",!0),l.issue_type?(s(),a("span",X,[e[9]||(e[9]=t("strong",null,"Issue:",-1)),h(" "+o(l.issue_type),1)])):u("",!0),l.settlement_name?(s(),a("span",Z,[e[10]||(e[10]=t("strong",null,"Settlement:",-1)),h(" "+o(l.settlement_name),1)])):u("",!0)]),t("div",ee,[l.contact_date?(s(),a("span",te,"Filed: "+o(d(l.contact_date)),1)):u("",!0),l.closed_date?(s(),a("span",se,"Closed: "+o(d(l.closed_date)),1)):u("",!0)]),t("div",ae,[l.next_hearing?(s(),a("span",ne,[h(" Next hearing: "+o(d(l.next_hearing.hearing_date))+" ",1),l.next_hearing.hearing_time?(s(),a("span",le," at "+o(x(l.next_hearing.hearing_time)),1)):u("",!0),l.next_hearing.location?(s(),a("span",oe," â€” "+o(l.next_hearing.location),1)):u("",!0)])):(s(),a("span",ie,"No upcoming hearings")),l.document_count>0?(s(),a("span",ue,o(l.document_count)+" document"+o(l.document_count!==1?"s":""),1)):u("",!0)])]),g.value===l.id&&i.value?(s(),a("div",{key:0,class:"case-detail",onClick:e[2]||(e[2]=S(()=>{},["stop"]))},[i.value.description?(s(),a("div",re,[e[11]||(e[11]=t("h3",null,"Description",-1)),t("p",null,o(i.value.description),1)])):u("",!0),i.value.background?(s(),a("div",de,[e[12]||(e[12]=t("h3",null,"Background",-1)),t("p",null,o(i.value.background),1)])):u("",!0),t("div",ce,[e[17]||(e[17]=t("h3",null,"Timeline",-1)),t("div",_e,[i.value.contact_date?(s(),a("div",ve,[e[13]||(e[13]=t("span",{class:"tl-label"},"Contact Date",-1)),t("span",pe,o(d(i.value.contact_date)),1)])):u("",!0),i.value.mediation_date?(s(),a("div",me,[e[14]||(e[14]=t("span",{class:"tl-label"},"Mediation",-1)),t("span",ye,o(d(i.value.mediation_date)),1)])):u("",!0),i.value.hearing_date?(s(),a("div",ge,[e[15]||(e[15]=t("span",{class:"tl-label"},"Hearing",-1)),t("span",he,o(d(i.value.hearing_date)),1)])):u("",!0),i.value.closed_date?(s(),a("div",ke,[e[16]||(e[16]=t("span",{class:"tl-label"},"Closed",-1)),t("span",fe,o(d(i.value.closed_date)),1)])):u("",!0)])]),i.value.parties&&i.value.parties.length>0?(s(),a("div",be,[e[18]||(e[18]=t("h3",null,"Parties",-1)),t("div",Ce,[(s(!0),a(_,null,v(i.value.parties,(n,C)=>(s(),a("div",{key:C,class:"party-item"},[t("span",we,o(n.name),1),t("span",Me,o(n.party_type||"Party"),1)]))),128))])])):u("",!0),i.value.hearings&&i.value.hearings.length>0?(s(),a("div",Ne,[e[19]||(e[19]=t("h3",null,"Hearings",-1)),t("div",xe,[(s(!0),a(_,null,v(i.value.hearings,n=>(s(),a("div",{key:n.id,class:"sub-row"},[t("span",null,o(d(n.hearing_date)),1),n.hearing_time?(s(),a("span",Se,o(x(n.hearing_time)),1)):u("",!0),t("span",null,o(n.hearing_type),1),n.location?(s(),a("span",De,o(n.location),1)):u("",!0),n.outcome?(s(),a("span",{key:2,class:D(["outcome-tag","outcome-"+n.outcome.toLowerCase()])},o(n.outcome),3)):u("",!0)]))),128))])])):(s(),a("div",$e,[...e[20]||(e[20]=[t("h3",null,"Hearings",-1),t("p",null,"No hearings scheduled",-1)])])),i.value.documents&&i.value.documents.length>0?(s(),a("div",Ae,[e[21]||(e[21]=t("h3",null,"Documents",-1)),t("div",Le,[(s(!0),a(_,null,v(i.value.documents,n=>(s(),a("div",{key:n.id,class:"sub-row"},[t("span",null,o(n.file_name),1),n.category?(s(),a("span",Te,o(n.category),1)):u("",!0),n.document_date?(s(),a("span",Fe,o(d(n.document_date)),1)):u("",!0)]))),128))])])):(s(),a("div",He,[...e[22]||(e[22]=[t("h3",null,"Documents",-1),t("p",null,"No documents",-1)])])),i.value.orders&&i.value.orders.length>0?(s(),a("div",Pe,[e[23]||(e[23]=t("h3",null,"Orders",-1)),t("div",Ve,[(s(!0),a(_,null,v(i.value.orders,n=>(s(),a("div",{key:n.id,class:"sub-row"},[t("span",Be,"Order #"+o(n.order_number),1),t("span",null,o(d(n.issue_date)),1),n.keyword?(s(),a("span",Ie,o(n.keyword),1)):u("",!0),n.document_url?(s(),a("a",{key:1,href:n.document_url,target:"_blank",rel:"noopener",class:"pdf-link"},"PDF",8,Oe)):u("",!0)]))),128))])])):u("",!0)])):u("",!0)],8,R))),128))])],64))]))}},Ee=T(Ue,[["__scopeId","data-v-df447950"]]);export{Ee as default};
//# sourceMappingURL=MyCases-DlZd5xB5.js.map
